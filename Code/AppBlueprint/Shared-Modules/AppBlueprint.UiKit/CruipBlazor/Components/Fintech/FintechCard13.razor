@using MosaicPortal.Web.Components.Charts

<div class="flex flex-col col-span-full sm:col-span-6 xl:col-span-3 bg-white dark:bg-gray-800 shadow-xs rounded-xl">
    <div class="px-5 pt-5">
        <header>
            <h3 class="text-sm font-semibold text-gray-500 uppercase mb-1">
                <span class="text-gray-800 dark:text-gray-100">Facebook</span> - Meta Inc.
            </h3>
            <div class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-1">$333.79</div>
            <div class="text-sm">
                <span class="font-medium text-green-600">+$19,70 (4%)</span> - Today
            </div>
        </header>
    </div>
    <!-- Chart -->
    <div class="grow">
        <MosaicPortal.Web.Components.Charts.LineChart
            CanvasId="facebook-stock-chart"
            Height="98"
            Labels="@labels"
            Datasets="@datasets"
            ShowXAxis="false"
            ShowYAxis="false"
            UseTimeScale="false"
            ContainerClass="grow"/>
    </div>
</div>

@code {

    private List<string> labels = new()
    {
        "12-01-2022", "01-01-2023", "02-01-2023",
        "03-01-2023", "04-01-2023", "05-01-2023",
        "06-01-2023", "07-01-2023", "08-01-2023",
        "09-01-2023", "10-01-2023", "11-01-2023",
        "12-01-2023", "01-01-2024", "02-01-2024",
        "03-01-2024", "04-01-2024", "05-01-2024",
        "06-01-2024", "07-01-2024", "08-01-2024",
        "09-01-2024", "10-01-2024", "11-01-2024",
        "12-01-2024", "01-01-2025"
    };

    private List<MosaicPortal.Web.Components.Charts.LineChart.ChartDataset> datasets = new();

    protected override void OnInitialized()
    {
        datasets = new()
        {
            new MosaicPortal.Web.Components.Charts.LineChart.ChartDataset
            {
                Data = new List<double>
                {
                    245, 288, 332, 404, 404, 314, 314,
                    314, 314, 314, 234, 314, 234, 234,
                    314, 314, 314, 388, 314, 202, 202,
                    202, 202, 514, 720, 642
                },
                BorderColor = "rgb(62, 201, 114)", // custom green-500
                BackgroundColor = "rgba(62, 201, 114, 0.1)", // custom green-500
                Fill = true,
                Tension = 0.2,
                PointRadius = 0,
                PointHoverRadius = 3,
                BorderWidth = 2
            }
        };
    }

}
