@page "/modals"
@using MosaicPortal.Web.Components.Shared

<PageTitle>Modals & Dropdowns - Mosaic</PageTitle>

<div class="px-4 sm:px-6 lg:px-8 py-8 w-full max-w-[96rem] mx-auto">
    @* Page header *@
    <div class="mb-8">
        <h1 class="text-2xl md:text-3xl text-gray-800 dark:text-gray-100 font-bold">Modals & Dropdowns</h1>
        <p class="text-gray-600 dark:text-gray-400 mt-1">Overlay components for dialogs, menus, and tooltips.</p>
    </div>

    <div class="grid grid-cols-12 gap-6">
        @* Modals Section *@
        <div class="col-span-full xl:col-span-6">
            <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-5">
                <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Modal Dialogs</h2>
                <div class="flex flex-wrap gap-3">
                    <button class="btn bg-violet-500 hover:bg-violet-600 text-white" @onclick="() => showBasicModal = true">
                        Basic Modal
                    </button>
                    <button class="btn bg-gray-900 hover:bg-gray-800 text-white dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white" @onclick="() => showLargeModal = true">
                        Large Modal
                    </button>
                    <button class="btn bg-red-500 hover:bg-red-600 text-white" @onclick="() => showDangerModal = true">
                        Danger Modal
                    </button>
                    <button class="btn bg-green-500 hover:bg-green-600 text-white" @onclick="() => showSuccessModal = true">
                        Success Modal
                    </button>
                </div>
            </div>
        </div>

        @* Dropdowns Section *@
        <div class="col-span-full xl:col-span-6">
            <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-5">
                <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Dropdown Menus</h2>
                <div class="flex flex-wrap gap-3">
                    <MosaicPortal.Web.Components.Shared.MenuDropdown IsOpen="@dropdown1Open" IsOpenChanged="@((bool v) => dropdown1Open = v)">
                        <Trigger>
                            <button class="btn bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-300">
                                Options
                                <svg class="shrink-0 ml-1 fill-current text-gray-400" width="11" height="7" viewBox="0 0 11 7">
                                    <path d="M5.4 6.8L0 1.4 1.4 0l4 4 4-4 1.4 1.4z"/>
                                </svg>
                            </button>
                        </Trigger>
                        <ChildContent>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem OnItemClick="@(() => dropdown1Open = false)">
                                <IconContent>
                                    <svg class="fill-current" width="16" height="16" viewBox="0 0 16 16">
                                        <path d="M8 8a3 3 0 100-6 3 3 0 000 6zM8 9a6 6 0 016 6H2a6 6 0 016-6z"/>
                                    </svg>
                                </IconContent>
                                <ChildContent>Profile</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem OnItemClick="@(() => dropdown1Open = false)">
                                <IconContent>
                                    <svg class="fill-current" width="16" height="16" viewBox="0 0 16 16">
                                        <path d="M13.5 2H2.5A1.5 1.5 0 001 3.5v9A1.5 1.5 0 002.5 14h11a1.5 1.5 0 001.5-1.5v-9A1.5 1.5 0 0013.5 2zM2.5 3h11a.5.5 0 01.5.5V5H2V3.5a.5.5 0 01.5-.5z"/>
                                    </svg>
                                </IconContent>
                                <ChildContent>Settings</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem IsDivider="true"/>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem Variant="danger" OnItemClick="@(() => dropdown1Open = false)">
                                <IconContent>
                                    <svg class="fill-current" width="16" height="16" viewBox="0 0 16 16">
                                        <path d="M5 7h2v6H5V7zm4 0h2v6H9V7zm3-6v2h4v2h-1v10c0 .6-.4 1-1 1H2c-.6 0-1-.4-1-1V5H0V3h4V1c0-.6.4-1 1-1h6c.6 0 1 .4 1 1zm-7 2h6V2H5v1zm6 2H3v9h10V5h-2z"/>
                                    </svg>
                                </IconContent>
                                <ChildContent>Delete</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                        </ChildContent>
                    </MosaicPortal.Web.Components.Shared.MenuDropdown>

                    <MosaicPortal.Web.Components.Shared.MenuDropdown IsOpen="@dropdown2Open" IsOpenChanged="@((bool v) => dropdown2Open = v)" Align="right">
                        <Trigger>
                            <button class="btn bg-violet-500 hover:bg-violet-600 text-white">
                                Right Aligned
                                <svg class="shrink-0 ml-1 fill-current" width="11" height="7" viewBox="0 0 11 7">
                                    <path d="M5.4 6.8L0 1.4 1.4 0l4 4 4-4 1.4 1.4z"/>
                                </svg>
                            </button>
                        </Trigger>
                        <ChildContent>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem IsHeader="true">
                                <ChildContent>Actions</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem OnItemClick="@(() => dropdown2Open = false)">
                                <ChildContent>Edit</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem OnItemClick="@(() => dropdown2Open = false)">
                                <ChildContent>Duplicate</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem OnItemClick="@(() => dropdown2Open = false)">
                                <ChildContent>Archive</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem IsDivider="true"/>
                            <MosaicPortal.Web.Components.Shared.DropdownMenuItem Disabled="true">
                                <ChildContent>Move (disabled)</ChildContent>
                            </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                        </ChildContent>
                    </MosaicPortal.Web.Components.Shared.MenuDropdown>
                </div>
            </div>
        </div>

        @* Popovers Section *@
        <div class="col-span-full xl:col-span-6">
            <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-5">
                <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Popovers & Tooltips</h2>
                <div class="flex flex-wrap items-center gap-6">
                    <MosaicPortal.Web.Components.Shared.Popover Position="top">
                        <Trigger>
                            <button class="btn bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600">
                                Hover Top
                            </button>
                        </Trigger>
                        <ChildContent>Tooltip on top!</ChildContent>
                    </MosaicPortal.Web.Components.Shared.Popover>

                    <MosaicPortal.Web.Components.Shared.Popover Position="bottom">
                        <Trigger>
                            <button class="btn bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600">
                                Hover Bottom
                            </button>
                        </Trigger>
                        <ChildContent>Tooltip on bottom!</ChildContent>
                    </MosaicPortal.Web.Components.Shared.Popover>

                    <MosaicPortal.Web.Components.Shared.Popover Position="left">
                        <Trigger>
                            <button class="btn bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600">
                                Hover Left
                            </button>
                        </Trigger>
                        <ChildContent>Tooltip on left!</ChildContent>
                    </MosaicPortal.Web.Components.Shared.Popover>

                    <MosaicPortal.Web.Components.Shared.Popover Position="right">
                        <Trigger>
                            <button class="btn bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600">
                                Hover Right
                            </button>
                        </Trigger>
                        <ChildContent>Tooltip on right!</ChildContent>
                    </MosaicPortal.Web.Components.Shared.Popover>

                    <MosaicPortal.Web.Components.Shared.Popover TriggerMode="click">
                        <Trigger>
                            <button class="btn bg-violet-500 hover:bg-violet-600 text-white">
                                Click Me
                            </button>
                        </Trigger>
                        <ChildContent>Click to toggle!</ChildContent>
                    </MosaicPortal.Web.Components.Shared.Popover>
                </div>
            </div>
        </div>

        @* Context Menu Section *@
        <div class="col-span-full xl:col-span-6">
            <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-5">
                <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Context Menu</h2>
                <MosaicPortal.Web.Components.Shared.ContextMenu IsOpen="@contextMenuOpen" IsOpenChanged="@((bool v) => contextMenuOpen = v)">
                    <ChildContent>
                        <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center text-gray-500 dark:text-gray-400">
                            Right-click anywhere in this area to see the context menu
                        </div>
                    </ChildContent>
                    <MenuContent>
                        <MosaicPortal.Web.Components.Shared.DropdownMenuItem OnItemClick="@(() => contextMenuOpen = false)">
                            <IconContent>
                                <svg class="fill-current" width="16" height="16" viewBox="0 0 16 16">
                                    <path d="M11.7.3c-.4-.4-1-.4-1.4 0l-10 10c-.2.2-.3.4-.3.7v4c0 .6.4 1 1 1h4c.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4l-4-4z"/>
                                </svg>
                            </IconContent>
                            <ChildContent>Edit</ChildContent>
                        </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                        <MosaicPortal.Web.Components.Shared.DropdownMenuItem OnItemClick="@(() => contextMenuOpen = false)">
                            <IconContent>
                                <svg class="fill-current" width="16" height="16" viewBox="0 0 16 16">
                                    <path d="M13 1H3c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 12H3V3h10v10z"/>
                                    <path d="M5 5h6v2H5zM5 9h6v2H5z"/>
                                </svg>
                            </IconContent>
                            <ChildContent>Copy</ChildContent>
                        </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                        <MosaicPortal.Web.Components.Shared.DropdownMenuItem IsDivider="true"/>
                        <MosaicPortal.Web.Components.Shared.DropdownMenuItem Variant="danger" OnItemClick="@(() => contextMenuOpen = false)">
                            <IconContent>
                                <svg class="fill-current" width="16" height="16" viewBox="0 0 16 16">
                                    <path d="M5 7h2v6H5V7zm4 0h2v6H9V7zm3-6v2h4v2h-1v10c0 .6-.4 1-1 1H2c-.6 0-1-.4-1-1V5H0V3h4V1c0-.6.4-1 1-1h6c.6 0 1 .4 1 1zm-7 2h6V2H5v1zm6 2H3v9h10V5h-2z"/>
                                </svg>
                            </IconContent>
                            <ChildContent>Delete</ChildContent>
                        </MosaicPortal.Web.Components.Shared.DropdownMenuItem>
                    </MenuContent>
                </MosaicPortal.Web.Components.Shared.ContextMenu>
            </div>
        </div>
    </div>
</div>

@* Modals *@
<MosaicPortal.Web.Components.Shared.Modal IsOpen="@showBasicModal" IsOpenChanged="@((bool v) => showBasicModal = v)">
    <MosaicPortal.Web.Components.Shared.ModalHeader Title="Basic Modal" Subtitle="This is a simple modal dialog"/>
    <MosaicPortal.Web.Components.Shared.ModalBody>
        <p class="text-sm text-gray-600 dark:text-gray-400">
            This is a basic modal with a header, body, and footer. Click outside or press the X button to close.
        </p>
    </MosaicPortal.Web.Components.Shared.ModalBody>
    <MosaicPortal.Web.Components.Shared.ModalFooter>
        <button class="btn-sm border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-300" @onclick="() => showBasicModal = false">Cancel</button>
        <button class="btn-sm bg-violet-500 hover:bg-violet-600 text-white" @onclick="() => showBasicModal = false">Confirm</button>
    </MosaicPortal.Web.Components.Shared.ModalFooter>
</MosaicPortal.Web.Components.Shared.Modal>

<MosaicPortal.Web.Components.Shared.Modal IsOpen="@showLargeModal" IsOpenChanged="@((bool v) => showLargeModal = v)" Size="lg">
    <MosaicPortal.Web.Components.Shared.ModalHeader Title="Large Modal"/>
    <MosaicPortal.Web.Components.Shared.ModalBody>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
            This is a larger modal that can contain more content.
        </p>
        <div class="bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4">
            <h4 class="font-medium text-gray-800 dark:text-gray-100 mb-2">Example Content</h4>
            <p class="text-sm text-gray-600 dark:text-gray-400">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </p>
        </div>
    </MosaicPortal.Web.Components.Shared.ModalBody>
    <MosaicPortal.Web.Components.Shared.ModalFooter>
        <button class="btn-sm border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-300" @onclick="() => showLargeModal = false">Close</button>
    </MosaicPortal.Web.Components.Shared.ModalFooter>
</MosaicPortal.Web.Components.Shared.Modal>

<MosaicPortal.Web.Components.Shared.Modal IsOpen="@showDangerModal" IsOpenChanged="@((bool v) => showDangerModal = v)" Size="sm">
    <MosaicPortal.Web.Components.Shared.ModalBody CssClass="text-center">
        <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-red-100 dark:bg-red-500/20 mb-4">
            <svg class="fill-current text-red-500" width="24" height="24" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
            </svg>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Delete Item?</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
            Are you sure you want to delete this item?
        </p>
        <div class="flex justify-center gap-2">
            <button class="btn-sm border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-300" @onclick="() => showDangerModal = false">Cancel</button>
            <button class="btn-sm bg-red-500 hover:bg-red-600 text-white" @onclick="() => showDangerModal = false">Delete</button>
        </div>
    </MosaicPortal.Web.Components.Shared.ModalBody>
</MosaicPortal.Web.Components.Shared.Modal>

<MosaicPortal.Web.Components.Shared.Modal IsOpen="@showSuccessModal" IsOpenChanged="@((bool v) => showSuccessModal = v)" Size="sm">
    <MosaicPortal.Web.Components.Shared.ModalBody CssClass="text-center">
        <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 dark:bg-green-500/20 mb-4">
            <svg class="fill-current text-green-500" width="24" height="24" viewBox="0 0 24 24">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
            </svg>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Success!</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
            Your changes have been saved successfully.
        </p>
        <button class="btn-sm bg-green-500 hover:bg-green-600 text-white" @onclick="() => showSuccessModal = false">Continue</button>
    </MosaicPortal.Web.Components.Shared.ModalBody>
</MosaicPortal.Web.Components.Shared.Modal>

@code {
    private bool showBasicModal;
    private bool showLargeModal;
    private bool showDangerModal;
    private bool showSuccessModal;
    private bool dropdown1Open;
    private bool dropdown2Open;
    private bool contextMenuOpen;
}
