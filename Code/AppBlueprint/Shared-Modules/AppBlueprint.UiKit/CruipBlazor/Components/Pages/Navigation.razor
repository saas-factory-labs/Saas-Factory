@page "/navigation"

<div class="px-4 sm:px-6 lg:px-8 py-8 w-full max-w-[96rem] mx-auto">

    <!-- Page header -->
    <div class="mb-8">
        <h1 class="text-2xl md:text-3xl text-gray-800 dark:text-gray-100 font-bold">Navigation Components</h1>
        <p class="text-gray-500 dark:text-gray-400 mt-2">Enhanced navigation components for better user experience</p>
    </div>

    <div class="space-y-8">

        <!-- Breadcrumb Section -->
        <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-6">
            <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Dynamic Breadcrumb</h2>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Auto-generates breadcrumbs based on current route</p>

            <div class="space-y-6">
                <!-- Default breadcrumb -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Chevron Separator (Default)</h3>
                    <DynamicBreadcrumb SeparatorStyle="chevron"/>
                </div>

                <!-- Arrow separator -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Arrow Separator</h3>
                    <DynamicBreadcrumb SeparatorStyle="arrow"/>
                </div>

                <!-- Dot separator -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Dot Separator</h3>
                    <DynamicBreadcrumb SeparatorStyle="dot"/>
                </div>

                <!-- Custom items -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Custom Breadcrumb Items</h3>
                    <DynamicBreadcrumb Items="@customBreadcrumbs" AutoGenerate="false"/>
                </div>
            </div>
        </div>

        <!-- Tab Navigation Section -->
        <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-6">
            <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Tab Navigation</h2>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Multiple tab styles for page sections</p>

            <div class="space-y-8">
                <!-- Underline tabs -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Underline Style (Default)</h3>
                    <TabNavigation Tabs="@sampleTabs" ActiveTab="@activeTab1" ActiveTabChanged="@((string id) => activeTab1 = id)" Variant="underline" ShowPanels="false"/>
                </div>

                <!-- Pills tabs -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Pills Style</h3>
                    <TabNavigation Tabs="@sampleTabs" ActiveTab="@activeTab2" ActiveTabChanged="@((string id) => activeTab2 = id)" Variant="pills" ShowPanels="false"/>
                </div>

                <!-- Boxed tabs -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Boxed Style</h3>
                    <TabNavigation Tabs="@sampleTabs" ActiveTab="@activeTab3" ActiveTabChanged="@((string id) => activeTab3 = id)" Variant="boxed" ShowPanels="false"/>
                </div>

                <!-- Minimal tabs -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Minimal Style</h3>
                    <TabNavigation Tabs="@sampleTabs" ActiveTab="@activeTab4" ActiveTabChanged="@((string id) => activeTab4 = id)" Variant="minimal" ShowPanels="false"/>
                </div>

                <!-- Full width tabs -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">Full Width</h3>
                    <TabNavigation Tabs="@sampleTabs" ActiveTab="@activeTab5" ActiveTabChanged="@((string id) => activeTab5 = id)" Variant="pills" FullWidth="true" ShowPanels="false"/>
                </div>

                <!-- Tabs with badges -->
                <div>
                    <h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">With Badges</h3>
                    <TabNavigation Tabs="@tabsWithBadges" ActiveTab="@activeTab6" ActiveTabChanged="@((string id) => activeTab6 = id)" ShowPanels="false"/>
                </div>
            </div>
        </div>

        <!-- Mega Menu Section -->
        <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-6">
            <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Mega Menu</h2>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Multi-column dropdown menus for complex navigation</p>

            <div class="flex flex-wrap gap-4">
                <!-- Click trigger -->
                <MegaMenu TriggerText="Products" Sections="@megaMenuSections" Columns="3" TriggerMode="click"/>

                <!-- Hover trigger -->
                <MegaMenu TriggerText="Solutions" Sections="@megaMenuSections2" Columns="2" TriggerMode="hover"/>
            </div>
        </div>

        <!-- Command Palette Section -->
        <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-6">
            <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Command Palette</h2>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Quick navigation with keyboard shortcuts</p>

            <div class="flex items-center gap-4">
                <button type="button"
                        class="btn bg-violet-500 hover:bg-violet-600 text-white"
                        @onclick="() => commandPaletteOpen = true">
                    Open Command Palette
                </button>
                <span class="text-sm text-gray-500 dark:text-gray-400">
                    or press <kbd class="px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600">Ctrl</kbd> + <kbd class="px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600">K</kbd>
                </span>
            </div>
        </div>

        <!-- Bottom Navigation Section -->
        <div class="bg-white dark:bg-gray-800 shadow-xs rounded-xl p-6">
            <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4">Bottom Navigation (Mobile)</h2>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Fixed bottom navigation for mobile devices. Resize window to see it in action.</p>

            <div class="space-y-4">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-green-500"></span>
                    <span class="text-sm text-gray-600 dark:text-gray-300">Bottom navigation is visible on mobile (hidden on lg+ screens)</span>
                </div>
                <div class="p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg">
                    <p class="text-sm text-gray-600 dark:text-gray-300">
                        Supported variants:
                    </p>
                    <ul class="mt-2 space-y-1 text-sm text-gray-500 dark:text-gray-400">
                        <li>• <strong>default</strong> - Standard fixed bottom bar</li>
                        <li>• <strong>floating</strong> - Floating rounded bar with shadow</li>
                        <li>• <strong>minimal</strong> - Transparent with backdrop blur</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

</div>

<!-- Command Palette (global) -->
<CommandPalette @bind-IsOpen="commandPaletteOpen"/>

<!-- Bottom Navigation (visible on mobile only) -->
<BottomNavigation Items="@bottomNavItems" Variant="default"/>

@code {
    private bool commandPaletteOpen;

    // Tab states
    private string activeTab1 = "overview";
    private string activeTab2 = "overview";
    private string activeTab3 = "overview";
    private string activeTab4 = "overview";
    private string activeTab5 = "overview";
    private string activeTab6 = "all";

    // Custom breadcrumbs
    private List<DynamicBreadcrumb.BreadcrumbItem> customBreadcrumbs = new()
    {
        new() { Label = "Dashboard", Href = "/" },
        new() { Label = "Settings", Href = "/settings" },
        new() { Label = "Account", Href = "/settings/account" }
    };

    // Sample tabs
    private List<TabNavigation.TabItem> sampleTabs = new()
    {
        new() { Id = "overview", Label = "Overview" },
        new() { Id = "analytics", Label = "Analytics" },
        new() { Id = "reports", Label = "Reports" },
        new() { Id = "settings", Label = "Settings" }
    };

    // Tabs with badges
    private List<TabNavigation.TabItem> tabsWithBadges = new()
    {
        new() { Id = "all", Label = "All", Badge = "248" },
        new() { Id = "active", Label = "Active", Badge = "12" },
        new() { Id = "pending", Label = "Pending", Badge = "5" },
        new() { Id = "archived", Label = "Archived" }
    };

    // Mega menu sections
    private List<MegaMenu.MegaMenuSection> megaMenuSections = new()
    {
        new()
        {
            Title = "Analytics",
            Items = new()
            {
                new() { Label = "Dashboard", Description = "View your metrics and KPIs", Href = "/" },
                new() { Label = "Reports", Description = "Generate custom reports", Href = "/reports", IsNew = true },
                new() { Label = "Insights", Description = "AI-powered analytics", Href = "/insights", IsBeta = true }
            }
        },
        new()
        {
            Title = "Management",
            Items = new()
            {
                new() { Label = "Customers", Description = "Manage customer data", Href = "/customers" },
                new() { Label = "Orders", Description = "Track and manage orders", Href = "/orders" },
                new() { Label = "Inventory", Description = "Stock management", Href = "/inventory" }
            }
        },
        new()
        {
            Title = "Tools",
            Items = new()
            {
                new() { Label = "Forms", Description = "Form builder", Href = "/forms" },
                new() { Label = "Workflows", Description = "Automation tools", Href = "/workflows" },
                new() { Label = "Integrations", Description = "Connect your apps", Href = "/integrations" }
            }
        }
    };

    private List<MegaMenu.MegaMenuSection> megaMenuSections2 = new()
    {
        new()
        {
            Title = "By Industry",
            Items = new()
            {
                new() { Label = "E-commerce", Description = "Online retail solutions", Href = "#" },
                new() { Label = "Healthcare", Description = "Medical practice management", Href = "#" },
                new() { Label = "Finance", Description = "Banking and fintech", Href = "#" },
                new() { Label = "Education", Description = "Learning management", Href = "#" }
            }
        },
        new()
        {
            Title = "By Size",
            Items = new()
            {
                new() { Label = "Startups", Description = "For growing teams", Href = "#" },
                new() { Label = "SMB", Description = "Small to medium business", Href = "#" },
                new() { Label = "Enterprise", Description = "Large organizations", Href = "#" }
            }
        }
    };

    // Bottom navigation items
    private List<BottomNavigation.BottomNavItem> bottomNavItems = new()
    {
        new() { Id = "home", Label = "Home", Href = "/" },
        new() { Id = "customers", Label = "Customers", Href = "/customers" },
        new() { Id = "notifications", Label = "Alerts", Href = "/notifications", Badge = 3 },
        new() { Id = "forms", Label = "Forms", Href = "/forms" },
        new() { Id = "profile", Label = "Profile", Href = "/profile" }
    };

}
