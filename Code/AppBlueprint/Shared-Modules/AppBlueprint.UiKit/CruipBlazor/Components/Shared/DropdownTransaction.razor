<div class="relative inline-flex" @onclick:stopPropagation>
    <button
        class="inline-flex justify-center items-center group"
        aria-haspopup="true"
        @onclick="() => dropdownOpen = !dropdownOpen"
        aria-expanded="@dropdownOpen">
        <div class="flex items-center truncate">
            <span class="truncate font-medium text-violet-500 group-hover:text-violet-600 dark:group-hover:text-violet-400">My Personal Account</span>
            <svg class="w-3 h-3 shrink-0 ml-1 fill-current text-violet-400" viewBox="0 0 12 12">
                <path d="M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z" />
            </svg>
        </div>
    </button>
    @if (dropdownOpen)
    {
        <div class="origin-top-right z-10 absolute top-full min-w-44 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700/60 py-1.5 rounded-lg shadow-lg overflow-hidden mt-1 @(Align == "right" ? "right-0" : "left-0")">
            <ul>
                <li>
                    <a class="font-medium text-sm text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-200 flex items-center py-1 px-3" href="#0" @onclick="() => dropdownOpen = false">Business Account</a>
                </li>
                <li>
                    <a class="font-medium text-sm text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-200 flex items-center py-1 px-3" href="#0" @onclick="() => dropdownOpen = false">Family Account</a>
                </li>
            </ul>
        </div>
    }
</div>

@code {
    [Parameter]
    public string Align { get; set; } = "left";

    private bool dropdownOpen;
}
