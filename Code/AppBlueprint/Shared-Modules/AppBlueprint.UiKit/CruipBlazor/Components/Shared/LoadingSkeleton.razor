@* Skeleton loading component with various shapes *@

<div class="@GetClasses()" style="@GetStyles()"></div>

@code {
    [Parameter] public string Variant { get; set; } = "text"; // text, circular, rectangular, rounded
    [Parameter] public string? Width { get; set; }
    [Parameter] public string? Height { get; set; }
    [Parameter] public string? Class { get; set; }
    [Parameter] public bool Animate { get; set; } = true;

    private string GetClasses()
    {
        var baseClasses = "bg-gray-200 dark:bg-gray-700";
        var animateClass = Animate ? "animate-pulse" : "";

        var shapeClasses = Variant switch
        {
            "circular" => "rounded-full",
            "rectangular" => "",
            "rounded" => "rounded-lg",
            _ => "rounded" // text
        };

        var defaultSize = Variant switch
        {
            "circular" => "w-10 h-10",
            "text" => "h-4 w-full",
            _ => ""
        };

        var sizeClass = string.IsNullOrEmpty(Width) && string.IsNullOrEmpty(Height) ? defaultSize : "";

        return $"{baseClasses} {animateClass} {shapeClasses} {sizeClass} {Class}".Trim();
    }

    private string GetStyles()
    {
        var styles = new List<string>();
        if (!string.IsNullOrEmpty(Width)) styles.Add($"width: {Width}");
        if (!string.IsNullOrEmpty(Height)) styles.Add($"height: {Height}");
        return string.Join("; ", styles);
    }
}
