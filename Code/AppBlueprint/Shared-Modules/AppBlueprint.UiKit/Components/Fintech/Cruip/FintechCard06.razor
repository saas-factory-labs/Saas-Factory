@namespace AppBlueprint.UiKit.Components.Fintech.Cruip

@using AppBlueprint.UiKit.Components.Shared

<div class="col-span-full xl:col-span-6 bg-white dark:bg-gray-800 shadow-xs rounded-xl">
    <header class="px-5 py-4 border-b border-gray-100 dark:border-gray-700/60">
        <h2 class="font-semibold text-gray-800 dark:text-gray-100">Recent Earnings</h2>
    </header>
    <div class="p-3">
        <!-- Table -->
        <div class="overflow-x-auto">
            <table class="table-auto w-full dark:text-gray-300">
                <!-- Table header -->
                <thead class="text-xs uppercase text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-700/50 rounded-xs">
                <tr>
                    <th class="p-2 whitespace-nowrap">
                        <div class="font-semibold text-left">Description</div>
                    </th>
                    <th class="p-2 whitespace-nowrap">
                        <div class="font-semibold text-left">Source</div>
                    </th>
                    <th class="p-2 whitespace-nowrap">
                        <div class="font-semibold text-right">Amount</div>
                    </th>
                </tr>
                </thead>
                <!-- Table body -->
                <tbody class="text-sm divide-y divide-gray-100 dark:divide-gray-700/60">
                @foreach (var transaction in _earnings)
                {
                    <TransactionListItem Description="@transaction.Description"
                                         Amount="@transaction.Amount"
                                         Type="income"
                                         Category="@transaction.Source"
                                         IconSvg="@IncomeIcon"
                                         ShowPlusSign="true" />
                }
                </tbody>
            </table>
        </div>
    </div>
</div>

@code {
    private readonly List<EarningModel> _earnings =
    [
        new("Salary Deposit", 1299.22m, "Acme LTD"),
        new("Web.com", 1200.88m, "Qonto"),
        new("Github Inc.", 499.99m, "N26"),
        new("Aprilynne Pills", 2179.36m, "Revolut"),
        new("Form Builder PRO", 249.88m, "Revolut")
    ];

    private const string IncomeIcon = """
        <svg class="w-4 h-4 fill-current text-white" viewBox="0 0 16 16">
            <path d="M8.7 4.3l-.7.7 2.8 2.8H4v1h6.8l-2.8 2.8.7.7 4.2-4.2z"/>
        </svg>
        """;

    private sealed record EarningModel(string Description, decimal Amount, string Source);
}
