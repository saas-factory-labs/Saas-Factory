@inherits LayoutComponentBase

<HeadContent>
    <style>
        /* Force light mode background */
        .content-area-bg {
            background-color: #f3f4f6 !important;
        }
        /* Force dark mode background when dark class is present */
        .dark .content-area-bg {
            background-color: #111827 !important;
        }
    </style>
</HeadContent>

<div class="flex h-[100dvh] overflow-hidden">
    <!-- Sidebar -->
    <Sidebar SidebarOpen="@sidebarOpen" OnCloseSidebar="@(() => sidebarOpen = false)"/>

    <!-- Content area -->
    <div class="content-area-bg relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden">
        <!-- Site header -->
        <Header SidebarOpen="@sidebarOpen" OnToggleSidebar="@(() => sidebarOpen = !sidebarOpen)"/>

        <main class="grow">
            @Body
        </main>
    </div>
</div>

<div id="blazor-error-ui" class="fixed bottom-0 right-0 z-50 p-3 m-3 bg-red-500 text-white rounded-lg shadow-lg">
    An unhandled error has occurred.
    <a href="" class="reload underline ml-2">Reload</a>
    <a class="dismiss ml-2 cursor-pointer">ðŸ—™</a>
</div>

@code {
    private bool sidebarOpen;
}
