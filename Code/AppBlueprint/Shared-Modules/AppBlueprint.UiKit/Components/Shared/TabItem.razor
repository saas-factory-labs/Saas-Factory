@namespace AppBlueprint.UiKit.Components.Shared

@code {
    [CascadingParameter] public TabNavigation? Parent { get; set; }

    [Parameter] public string? Title { get; set; }
    [Parameter] public string? Label { get; set; }
    [Parameter] public string? Id { get; set; }
    [Parameter] public string? Href { get; set; }
    [Parameter] public string? Badge { get; set; }
    [Parameter] public RenderFragment? Icon { get; set; }
    [Parameter] public bool IsActive { get; set; }
    [Parameter] public bool Disabled { get; set; }

    protected override void OnInitialized()
    {
        if (Parent != null)
        {
            var item = new TabNavigation.TabItem
            {
                Id = Id ?? Title ?? Label ?? Guid.NewGuid().ToString(),
                Label = Title ?? Label ?? "",
                Href = Href,
                Badge = Badge,
                Icon = Icon,
                IsActive = IsActive,
                Disabled = Disabled
            };
            Parent.AddTab(item);
        }
    }
}
