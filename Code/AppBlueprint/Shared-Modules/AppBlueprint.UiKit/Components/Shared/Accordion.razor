@* Accordion container component *@

<div class="divide-y divide-gray-200 dark:divide-gray-700/60">
    @ChildContent
</div>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public bool AllowMultiple { get; set; } = false;

    private HashSet<string> _expandedItems = new();

    public bool IsExpanded(string id) => _expandedItems.Contains(id);

    public void Toggle(string id)
    {
        if (_expandedItems.Contains(id))
        {
            _expandedItems.Remove(id);
        }
        else
        {
            if (!AllowMultiple)
            {
                _expandedItems.Clear();
            }
            _expandedItems.Add(id);
        }
        StateHasChanged();
    }
}
